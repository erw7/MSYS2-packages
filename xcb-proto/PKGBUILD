# Maintainer: erw7 <erw7.github@gmail.com>

pkgname=xcb-proto
pkgver=1.13
pkgrel=1
pkgdesc="XML-XCB protocol descriptions"
arch=(any)
license=('custom')
url="https://xcb.freedesktop.org/"
groups=('development')
makedepends=('python')
source=(${url}dist/${pkgname}-${pkgver}.tar.bz2)
sha256sums=('7b98721e669be80284e9bbfeab02d2d0d54cd11172b72271e47a2fe875e2bde1')

prepare() {
  cd ${pkgname}-${pkgver}
  autoreconf -fvi
}

build() {
  cd ${pkgname}-${pkgver}
  ./configure \
  --prefix=/usr \
  --build=${CHOST}
  make
}

package() {
  cd "${srcdir}"/${pkgname}-${pkgver}
  make  DESTDIR="${pkgdir}" install

  install -Dm644 "${srcdir}"/${pkgname}-${pkgver}/COPYING* \
    -t "${pkgdir}"/usr/share/licenses/${pkgname}/
}
